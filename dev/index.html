<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Client for Delphis Epidata' API • epidatr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Client for Delphis Epidata' API">
<meta name="description" content="The Delphi Epidata API provides real-time access to epidemiological surveillance data for influenza, COVID-19, and other diseases for the USA at various geographical resolutions, both from official government sources such as the Center for Disease Control (CDC) and Google Trends and private partners such as Facebook and Change Healthcare. It is built and maintained by the Carnegie Mellon University Delphi research group. To cite this API: David C. Farrow, Logan C. Brooks, Aaron Rumack, Ryan J. Tibshirani, Roni Rosenfeld (2015). Delphi Epidata API. &lt;https://github.com/cmu-delphi/delphi-epidata&gt;.">
<meta property="og:description" content="The Delphi Epidata API provides real-time access to epidemiological surveillance data for influenza, COVID-19, and other diseases for the USA at various geographical resolutions, both from official government sources such as the Center for Disease Control (CDC) and Google Trends and private partners such as Facebook and Change Healthcare. It is built and maintained by the Carnegie Mellon University Delphi research group. To cite this API: David C. Farrow, Logan C. Brooks, Aaron Rumack, Ryan J. Tibshirani, Roni Rosenfeld (2015). Delphi Epidata API. &lt;https://github.com/cmu-delphi/delphi-epidata&gt;.">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">epidatr</a>

    <small class="nav-text text-success me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/epidatr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/signal-discovery.html">Finding data sources and signals of interest</a></li>
    <li><a class="dropdown-item" href="articles/versioned-data.html">Understanding and accessing versioned data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cmu-delphi/epidatr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="delphi-epidata-r-client">Delphi Epidata R client<a class="anchor" aria-label="anchor" href="#delphi-epidata-r-client"></a>
</h1></div>
<!-- badges: start -->

<p>The <a href="https://cmu-delphi.github.io/delphi-epidata/" class="external-link">Delphi Epidata API</a> provides real-time access to epidemiological surveillance data for influenza, COVID-19, and other diseases from both official government sources such as the <a href="https://data.cdc.gov/" class="external-link">Centers for Disease Control and Prevention (CDC)</a>, private partners such as <a href="https://delphi.cmu.edu/blog/2020/08/26/covid-19-symptom-surveys-through-facebook/" class="external-link">Facebook (now Meta)</a> and <a href="https://www.changehealthcare.com/" class="external-link">Change Healthcare</a>, and other public datasets like <a href="https://console.cloud.google.com/marketplace/product/bigquery-public-datasets/covid19-search-trends" class="external-link">Google Trends</a>. It is built and maintained by the Carnegie Mellon University <a href="https://delphi.cmu.edu/" class="external-link">Delphi Research Group</a>.</p>
<p>This package is designed to streamline the downloading and usage of data from the Delphi Epidata API. It provides a simple R interface to the API, including functions for downloading data, parsing the results, and converting the data into a tidy format. The API stores a historical record of all data, including corrections and updates, which is particularly useful for accurately backtesting forecasting models. We also provide packages for downstream data processing (<a href="https://github.com/cmu-delphi/epiprocess" class="external-link">epiprocess</a>) and modeling (<a href="https://github.com/cmu-delphi/epipredict" class="external-link">epipredict</a>).</p>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cmu-delphi.github.io/epidatr/">epidatr</a></span><span class="op">)</span></span>
<span><span class="co"># Obtain the smoothed covid-like illness (CLI) signal from Delphi's US COVID-19</span></span>
<span><span class="co"># Trends and Impact Survey (CTIS), in partnership with Facebook, as it was on</span></span>
<span><span class="co"># April 10, 2021 for the US at the national level</span></span>
<span><span class="va">epidata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pub_covidcast.html">pub_covidcast</a></span><span class="op">(</span></span>
<span>  source <span class="op">=</span> <span class="st">"fb-survey"</span>,</span>
<span>  signals <span class="op">=</span> <span class="st">"smoothed_cli"</span>,</span>
<span>  geo_type <span class="op">=</span> <span class="st">"nation"</span>,</span>
<span>  time_type <span class="op">=</span> <span class="st">"day"</span>,</span>
<span>  geo_values <span class="op">=</span> <span class="st">"us"</span>,</span>
<span>  time_values <span class="op">=</span> <span class="fu"><a href="reference/epirange.html">epirange</a></span><span class="op">(</span><span class="fl">20210101</span>, <span class="fl">20210601</span><span class="op">)</span>,</span>
<span>  as_of <span class="op">=</span> <span class="fl">20210601</span></span>
<span><span class="op">)</span></span>
<span><span class="va">epidata</span></span>
<span><span class="co">#&gt; # A tibble: 151 × 15</span></span>
<span><span class="co">#&gt;    geo_value signal    source geo_type time_type time_value direction issue     </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;     &lt;date&gt;         &lt;dbl&gt; &lt;date&gt;    </span></span>
<span><span class="co">#&gt;  1 us        smoothed… fb-su… nation   day       2021-01-01        NA 2021-01-06</span></span>
<span><span class="co">#&gt;  2 us        smoothed… fb-su… nation   day       2021-01-02        NA 2021-01-07</span></span>
<span><span class="co">#&gt;  3 us        smoothed… fb-su… nation   day       2021-01-03        NA 2021-01-08</span></span>
<span><span class="co">#&gt;  4 us        smoothed… fb-su… nation   day       2021-01-04        NA 2021-01-09</span></span>
<span><span class="co">#&gt;  5 us        smoothed… fb-su… nation   day       2021-01-05        NA 2021-01-10</span></span>
<span><span class="co">#&gt;  6 us        smoothed… fb-su… nation   day       2021-01-06        NA 2021-01-29</span></span>
<span><span class="co">#&gt;  7 us        smoothed… fb-su… nation   day       2021-01-07        NA 2021-01-29</span></span>
<span><span class="co">#&gt;  8 us        smoothed… fb-su… nation   day       2021-01-08        NA 2021-01-29</span></span>
<span><span class="co">#&gt;  9 us        smoothed… fb-su… nation   day       2021-01-09        NA 2021-01-29</span></span>
<span><span class="co">#&gt; 10 us        smoothed… fb-su… nation   day       2021-01-10        NA 2021-01-29</span></span>
<span><span class="co">#&gt; # ℹ 141 more rows</span></span>
<span><span class="co">#&gt; # ℹ 7 more variables: lag &lt;dbl&gt;, missing_value &lt;dbl&gt;, missing_stderr &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   missing_sample_size &lt;dbl&gt;, value &lt;dbl&gt;, stderr &lt;dbl&gt;, sample_size &lt;dbl&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Installing the package is straightforward.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install the CRAN version</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"epidatr"</span><span class="op">)</span></span>
<span><span class="co"># Install the development version from the GitHub dev branch</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pkg_install.html" class="external-link">pkg_install</a></span><span class="op">(</span><span class="st">"cmu-delphi/epidatr@dev"</span><span class="op">)</span></span></code></pre></div>
<p>Our CRAN listing is <a href="https://CRAN.R-project.org/package=epidatr/index.html" class="external-link">here</a>.</p>
<div class="section level3">
<h3 id="api-keys">API Keys<a class="anchor" aria-label="anchor" href="#api-keys"></a>
</h3>
<p>The Delphi API requires a (free) API key for full functionality. To generate your key, register for a pseudo-anonymous account <a href="https://api.delphi.cmu.edu/epidata/admin/registration_form" class="external-link">here</a> and see more discussion on the <a href="https://cmu-delphi.github.io/delphi-epidata/api/api_keys.html" class="external-link">general API website</a>. The <code>epidatr</code> client will automatically look for this key in the environment variable <code>DELPHI_EPIDATA_KEY</code>. We recommend storing your key in your <code>.Renviron</code> file, which R will read by default.</p>
<p>Note that for the time being, the private endpoints (i.e. those prefixed with <code>pvt</code>) will require a separate key that needs to be passed as an argument.</p>
</div>
</div>
<div class="section level2">
<h2 id="for-users-of-the-covidcast-r-package">For users of the covidcast R package<a class="anchor" aria-label="anchor" href="#for-users-of-the-covidcast-r-package"></a>
</h2>
<p>The <code>covidcast</code> package is deprecated and will no longer be updated. The <code>epidatr</code> package is a complete rewrite of the <a href="https://cmu-delphi.github.io/covidcast/covidcastR/" class="external-link"><code>covidcast</code> package</a>, with a focus on speed, reliability, and ease of use. It also supports more endpoints and data sources than <code>covidcast</code>. When migrating from that package, you will need to use the <a href="https://cmu-delphi.github.io/epidatr/reference/pub_covidcast.html"><code>pub_covidcast</code></a> function in <code>epidatr</code>.</p>
</div>
<div class="section level2">
<h2 id="get-updates">Get updates<a class="anchor" aria-label="anchor" href="#get-updates"></a>
</h2>
<p><strong>You should consider subscribing to the <a href="https://lists.andrew.cmu.edu/mailman/listinfo/delphi-covidcast-api" class="external-link">API mailing list</a></strong> to be notified of package updates, new data sources, corrections, and other updates.</p>
</div>
<div class="section level2">
<h2 id="usage-terms-and-citation">Usage terms and citation<a class="anchor" aria-label="anchor" href="#usage-terms-and-citation"></a>
</h2>
<p>We request that if you use the <code>epidatr</code> package in your work, or use any of the data provided by the Delphi Epidata API through non-<code>covidcast</code> endpoints, that you cite us using the citation given by <a href="https://cmu-delphi.github.io/epidatr/dev/authors.html#citation"><code>citation("epidatr")</code></a>. If you use any of the data from the <code>covidcast</code> endpoint, please use the <a href="https://cmu-delphi.github.io/covidcast/covidcastR/authors.html#citation" class="external-link">COVIDcast citation</a> as well. See the <a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast_licensing.html" class="external-link">COVIDcast licensing documentation</a> and the <a href="https://cmu-delphi.github.io/delphi-epidata/api/README.html#data-licensing" class="external-link">licensing documentation for other endpoints</a> for information about citing the datasets provided by the API.</p>
<p><strong>Warning:</strong> If you use data from the Epidata API to power a product, dashboard, app, or other service, please download the data you need and store it centrally rather than making API requests for every user. Our server resources are limited and cannot support high-volume interactive use.</p>
<p>See also the <a href="https://delphi.cmu.edu/covidcast/terms-of-use/" class="external-link">Terms of Use</a>, noting that the data is a research product and not warranted for a particular purpose.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=epidatr" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/cmu-delphi/epidatr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/cmu-delphi/epidatr/issues" class="external-link">Report a bug</a></li>
<li><a href="https://github.com/cmu-delphi/epidatpy/" class="external-link">Get the Python client</a></li>
<li><a href="https://delphi.cmu.edu/" class="external-link">View the Delphi Website</a></li>
<li><a href="https://cmu-delphi.github.io/delphi-tooling-book/" class="external-link">Introduction to Delphi's Tooling Work</a></li>
<li><a href="https://cmu-delphi.github.io/epiprocess/" class="external-link">The epiprocess R package</a></li>
<li><a href="https://cmu-delphi.github.io/epipredict/" class="external-link">The epipredict R package</a></li>
<li><a href="https://cmu-delphi.github.io/epidatasets/" class="external-link">The epidatasets R package</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing epidatr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Logan Brooks <br><small class="roles"> Author </small>  </li>
<li>Dmitry Shemetov <br><small class="roles"> Author </small>  </li>
<li>Samuel Gratzl <br><small class="roles"> Author </small>  </li>
<li>David Weber <br><small class="roles"> Contributor, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/license/mit" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
<li><a href="https://github.com/cmu-delphi/epidatr/actions" class="external-link"><img src="https://github.com/cmu-delphi/epidatr/workflows/ci/badge.svg" alt="Github Actions"></a></li>
<li><a href="https://app.codecov.io/gh/dsweber2/epidatr" class="external-link"><img src="https://codecov.io/gh/dsweber2/epidatr/branch/dev/graph/badge.svg?token=jVHL9eHZNZ" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Logan Brooks, Dmitry Shemetov, Samuel Gratzl, David Weber.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
